### 개발 중의 고민거리 끄적끄적

#### if ~ else, switch를 좀 더 깔끔하게

- Condition State 별로 적절한 메서드를 호출 하거나 객체를 생성
    - if ~ else가 틀린 건 아니나 항상 개발하면 확장 / 축소와 마주하게 됨
    - if ~ else의 구문을 건드려야한다는 것 비교 컨디션에 따라서 depth 깊이가 길어진다는 점 -> 즉, 실수가 일어나는 포인트
    - TEST 복잡도와 커버리지도 급격하게 늘어나는 것도 문제
    - 컨디션 상태를 고정 시키고 상태에 따라서 즉시 해당 action을 매치 시킨 다면?
    - 열거형 enum을 활용 해보자 (상수처럼 쓰고 싶다)
    ```java
    enum TypeComp {
        // input 값이 A면 1을 리턴하는 메서드를 호출하는 세트를 TypeA라는 열거형 상수로 관리
        TypeA("A", (input) -> 1),
        TypeB("B", (input) -> 2),
        TypeC("C", (input) -> 3);

        private final Function<String, Integer> operator;

        TypeComp(String conditionKey, Function<String, Integer> returnCodeFunc) {
            this.operator = returnCodeFunc;
            // name reflection
            try {
                // name을 reflect로 입맛에 맞게 필드를 살짝 바꾼다
                // TypeA -> A 로 name이 바뀐다
                Field enumName = getClass().getSuperclass().getDeclaredField("name");
                enumName.setAccessible(true);
                enumName.set(this, name);
            } catch (Exception e) {
                log.error("### enum field accessible error");
            }
        }

        public Integer executeOperator(String conditionKey) {
            return this.operator.apply(conditionKey);
        }
    }

    ```
- Step Chains (compare -> apply 반복)
    - chain이 되는 객체를 하나 더 받아서 처리하기만 하면 됨
    - 추가로 전체 열거형에 대해서 컨디션 비교하고 true면 chain 적용 형식으로도 구현이 가능
    ```java
    ChainEnums.values().foreach(chain -> chain.executeOperator(condition, originalChain));
    ```

#### Spring Request 시에 특정 DTO field를 초기화

- reqeust 등록 및 수정 시 Json DTO를 중에 입력 값은 주지 않지만 DTO에 후처리로 필드를 업데이트를 하거나 하는 경우가 있다
- 대표적으로 세션 정보 (POST는 등록자, PUT이면 수정자)
- 항상 컨트롤러 처음에 세션 컨텍스트를 조회하고 DTO에 집어넣는 걸 반복 코드로 집어넣는게 불편함
- 이걸 신경 쓰지 않고 자동화(?)하는 방법을 고민하는 것에 출발함